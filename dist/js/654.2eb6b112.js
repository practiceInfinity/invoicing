"use strict";(self["webpackChunkcashflow"]=self["webpackChunkcashflow"]||[]).push([[654],{22:function(e,t,i){i.r(t),i.d(t,{default:function(){return q}});var a=i(6190),n=i(4145),s=i(4886),l=i(120),r=i(266),o=i(1030),u=(i(6699),i(7808)),c=u.Z,d=i(4127),h=i(5352),m=i(4101),p=i(1767),f=c.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>(0,h.TI)(e).every((e=>null!=e&&"object"===typeof e))}},computed:{classes(){return{...c.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce(((e,{size:t=0})=>e+t),0);return this.$vuetify.lang.t(this.counterSizeString,e,(0,h.XE)(t,1024===this.base))},internalArrayValue(){return(0,h.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((e=>{const{name:t="",size:i=0}=e,a=this.truncateText(t);return this.showSize?`${a} (${(0,h.XE)(i,1024===this.base)})`:a})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&(0,m.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.multiple?e:e?[e]:[];(0,h.vZ)(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((e,t)=>this.$createElement(d.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e]))):[]},genControl(){const e=c.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=(0,p.y0)(e.data.style,{display:"none"})),e},genInput(){const e=c.options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((t,i)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[i],file:t,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=c.options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:()=>this.$refs.input.click()},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}â€¦${e.slice(e.length-t)}`}}}),v=i(5125),y=i(4604),x=i(1713),b=i(5890),g=i(3687),C=i(626),Z=i(8223),w=i(3037),I=i(4802),k=i(7678);const S=(0,k.Z)(Z.Z,(0,w.d)("windowGroup","v-window-item","v-window"));var T=S.extend().extend().extend({name:"v-window-item",directives:{Touch:I.Z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,h.kb)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(e){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,h.kb)(e.clientHeight))}))}},render(e){return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),V=T.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const e=T.options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}}),$=i(7771),B=i(5085),D=function(){var e=this,t=e._self._c;return t("div",[t(n.Z,{staticClass:"mx-8"},[e.showBasicForm?t("div",[t("h2",{staticClass:"text-center mt-5"},[e._v("New Company Setup")]),t("p",{staticClass:"text-center mb-5"},[e._v(" Let's create a new company and upload your data ")]),t(v.Z,{ref:"basicInfo",staticClass:"px-5",attrs:{"lazy-validation":""},model:{value:e.basicInfoFormValid,callback:function(t){e.basicInfoFormValid=t},expression:"basicInfoFormValid"}},[t(x.Z,[t(r.Z,{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(u.Z,{attrs:{label:"Company Name",rules:[e=>!!e||"Company name is required"],required:""},model:{value:e.companyName,callback:function(t){e.companyName=t},expression:"companyName"}}),t(b.Z,{attrs:{items:e.baseCurrencyList,"item-text":"name","item-value":"name",label:"Select Base Currency",rules:[e=>!!e||"Base currency is required"],required:""},model:{value:e.baseCurrency,callback:function(t){e.baseCurrency=t},expression:"baseCurrency"}}),t(b.Z,{attrs:{items:e.accountingBasisList,"item-text":"name","item-value":"name",label:"Select Accounting Basis",rules:[e=>!!e||"Accounting Basis is required"],required:""},model:{value:e.accountingBasis,callback:function(t){e.accountingBasis=t},expression:"accountingBasis"}})],1),t(r.Z,{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(b.Z,{attrs:{items:e.countryList,"item-text":"name","item-value":"name",label:"Select Country",rules:[e=>!!e||"Country is required"],required:""},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}}),t(b.Z,{attrs:{items:e.monthList,"item-text":"name","item-value":"name",label:"Select Financial Year End",rules:[e=>!!e||"Financial Year End is required"],required:""},model:{value:e.financialYearEnd,callback:function(t){e.financialYearEnd=t},expression:"financialYearEnd"}}),t(u.Z,{attrs:{label:"Industry (Optional)"},model:{value:e.industry,callback:function(t){e.industry=t},expression:"industry"}})],1),t(r.Z,{attrs:{cols:"12",md:"4",lg:"4",xl:"4","offset-md":"4","offset-lg":"4","offset-xl":"4"}},[t(a.Z,{staticClass:"primary mb-5",attrs:{disabled:!e.basicInfoFormValid,block:""},on:{click:e.saveBasicInfo}},[e._v("Save and continue")])],1)],1)],1)],1):e._e(),e.showUploadForm?t("div",[t("h2",{staticClass:"text-center mt-5"},[e._v("Upload Your Data")]),t("p",{staticClass:"text-center mb-5"},[e._v(" Generate an Excel template, populate with your trial balance and upload ")]),t(x.Z,[t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(n.Z,{staticClass:"ml-2"},[t($.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(C.Z,[e._v(" Excel ")])],1),t(B.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(V,[t(n.Z,[t(s.ZB,[t(v.Z,{ref:"excelInfo",attrs:{"lazy-validation":""},model:{value:e.excelInfo,callback:function(t){e.excelInfo=t},expression:"excelInfo"}},[t(b.Z,{attrs:{items:e.excelFormatList,"item-text":"name","item-value":"name",label:"Select a format",rules:[e=>!!e||"Format is required"],required:""},model:{value:e.excelFormat,callback:function(t){e.excelFormat=t},expression:"excelFormat"}}),t(x.Z,[t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(b.Z,{attrs:{items:e.excelIntervalList,"item-text":"name","item-value":"name",label:"Select an Interval",rules:[e=>!!e||"Interval is required"],required:""},model:{value:e.excelInterval,callback:function(t){e.excelInterval=t},expression:"excelInterval"}})],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(b.Z,{attrs:{items:e.excelDataTypeList,"item-text":"name","item-value":"name",label:"Select a data  type",rules:[e=>!!e||"Data type is required"],required:""},model:{value:e.excelDataType,callback:function(t){e.excelDataType=t},expression:"excelDataType"}})],1)],1),t(x.Z,[t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(u.Z,e._g(e._b({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:"",rules:[e=>!!e||"Start Date is required"],required:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",a,!1),i))]}}],null,!1,1643039853),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(o.Z,{attrs:{type:"month","no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[t(g.Z),t(a.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),t(a.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date)}}},[e._v(" OK ")])],1)],1)],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(y.Z,{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.date2,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(u.Z,e._g(e._b({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:"",rules:[e=>!!e||"End Date is required"],required:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},"v-text-field",a,!1),i))]}}],null,!1,4116927935),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(o.Z,{attrs:{type:"month","no-title":"",scrollable:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[t(g.Z),t(a.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v(" Cancel ")]),t(a.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.date2)}}},[e._v(" OK ")])],1)],1)],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4","offset-md":"3","offset-lg":"3","offset-xl":"3"}},[t(a.Z,{staticClass:"primary",attrs:{disabled:!e.excelInfo,block:""},on:{click:e.generateTemplate}},[e._v("Generate Template")])],1)],1)],1)],1)],1)],1)],1)],1)],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(n.Z,{staticClass:"mr-2"},[t($.Z,{model:{value:e.tab2,callback:function(t){e.tab2=t},expression:"tab2"}},[t(C.Z,[e._v(" Upload Data ")])],1),t(B.Z,{model:{value:e.tab2,callback:function(t){e.tab2=t},expression:"tab2"}},[t(V,[t(n.Z,{attrs:{flat:""}},[t(s.ZB,[t(v.Z,{ref:"uploadInfo",attrs:{"lazy-validation":""},model:{value:e.uploadInfo,callback:function(t){e.uploadInfo=t},expression:"uploadInfo"}},[t(f,{attrs:{accept:".excel,.csv",label:"Select Your Excel File Only",rules:[e=>!!e||"Excel File is required"],required:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),t(x.Z,[t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(l.Z,{attrs:{label:"Movement"},model:{value:e.isMovementTrue,callback:function(t){e.isMovementTrue=t},expression:"isMovementTrue"}})],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[t(l.Z,{attrs:{label:"Commutative YTD"},model:{value:e.isCommutativeYtd,callback:function(t){e.isCommutativeYtd=t},expression:"isCommutativeYtd"}})],1),t(r.Z,{attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4","offset-md":"3","offset-lg":"3","offset-xl":"3"}},[t(a.Z,{staticClass:"primary",attrs:{disabled:!e.uploadInfo,block:""},on:{click:e.uploadData}},[e._v("upload Data")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1):e._e()])],1)},A=[],F={data(){return{entityList:[{id:1,entity:"Abacus",analytics:"Analytics",audit:"Audit",lastRefresh:"14 hours ago",financialYear:"21 feb 2020",avatar:"PJ"},{id:2,entity:"Peter",analytics:"Analytics",audit:"Audit",lastRefresh:"13 hours ago",financialYear:"28 feb 2021",avatar:"DR"}],countryList:[{id:1,name:"South Africa"}],baseCurrencyList:[{id:1,name:"Zar"}],monthList:[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"}],accountingBasisList:[{id:1,name:"Accrual"},{id:2,name:"Cash"}],excelFormatList:[{id:1,name:"Chart of Accounts"},{id:2,name:"Trial Balance"}],excelIntervalList:[{id:1,name:"Monthly"},{id:2,name:"Annual"}],excelDataTypeList:[{id:1,name:"Single Column"},{id:2,name:"Multiple Column"}],companyName:"",country:"",baseCurrency:"",financialYearEnd:"",accountingBasis:"",industry:"",selectedEntity:"",updateMode:!1,showBasicForm:!0,showUploadForm:!1,basicInfoFormValid:!0,file:"",tab:"",tab2:"",excelInfo:!0,date:"",date2:"",menu:!1,menu2:!1,excelFormat:"",excelInterval:"",excelDataType:"",uploadInfo:!0,isMovementTrue:!1,isCommutativeYtd:!0}},created(){this.$route.query.id&&(this.updateMode=!0,this.showBasicForm=!1,this.showUploadForm=!0,this.selectedEntity=parseInt(this.$route.query.id))},methods:{onSelectCompany(e){this.$router.replace({path:"/dashboard/entity",query:{id:e}})},saveBasicInfo(){if(this.$refs.basicInfo.validate()){const e={companyName:this.companyName,country:this.country,baseCurrency:this.baseCurrency,financialYearEnd:this.financialYearEnd,accountingBasis:this.accountingBasis,industry:this.industry};console.log(e),this.showBasicForm=!1,this.showUploadForm=!0}},generateTemplate(){if(this.$refs.excelInfo.validate()){const e={excelFormat:this.excelFormat,excelInterval:this.excelInterval,excelDataType:this.excelDataType,startDate:this.date,EndDate:this.date2};console.log(e)}},uploadData(){if(this.$refs.uploadInfo.validate()){const e={file:this.file,isMovementTrue:this.isMovementTrue,isCommutativeYtd:this.isCommutativeYtd};console.log(e)}}}},_=F,E=i(1001),L=(0,E.Z)(_,D,A,!1,null,"411e708d",null),q=L.exports},120:function(e,t,i){i.d(t,{Z:function(){return h}});var a=i(2240),n=i(573),s=i(7069),l=i(144),r=l.ZP.extend({name:"rippleable",directives:{ripple:s.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),o=i(6174),u=i(7678);function c(e){e.preventDefault()}var d=(0,u.Z)(n.Z,r,o.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=n.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:c},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:c},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),h=d.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...n.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})}}]);
//# sourceMappingURL=654.2eb6b112.js.map